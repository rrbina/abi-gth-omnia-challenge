<div class="container mt-4">
  <h2>{{ isEditMode ? 'Edit Product' : 'Create Product' }}</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="productName">Product Name</label>
      <input
        id="productName"
        type="text"
        class="form-control"
        formControlName="productName"
        [class.is-invalid]="form.get('productName')?.invalid && form.get('productName')?.touched"
      />
      <div class="invalid-feedback" *ngIf="form.get('productName')?.hasError('required')">
        Product name is required.
      </div>
      <div class="invalid-feedback" *ngIf="form.get('productName')?.hasError('minlength')">
        Product name must be at least 3 characters.
      </div>
    </div>

    <div class="form-group">
      <label for="unitPrice">Unit Price</label>
      <input
        id="unitPrice"
        type="number"
        step="0.01"
        class="form-control"
        formControlName="unitPrice"
        [class.is-invalid]="form.get('unitPrice')?.invalid && form.get('unitPrice')?.touched"
      />
      <div class="invalid-feedback" *ngIf="form.get('unitPrice')?.hasError('required')">
        Unit price is required.
      </div>
      <div class="invalid-feedback" *ngIf="form.get('unitPrice')?.hasError('min')">
        Unit price must be at least 0.01.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
      {{ isEditMode ? 'Update' : 'Create' }}
    </button>

    <a routerLink="/products" class="btn btn-secondary ml-2">Cancel</a>
  </form>
</div>
<app-modal-result></app-modal-result>